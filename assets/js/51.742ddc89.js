(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{957:function(e,t,a){"use strict";a.r(t);var n=a(56),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"ruoyi-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ruoyi-vue"}},[e._v("#")]),e._v(" RuoYi-Vue")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#ruoyi-vue"}},[e._v("RuoYi-Vue")]),a("ul",[a("li",[a("a",{attrs:{href:"#参考"}},[e._v("参考")])]),a("li",[a("a",{attrs:{href:"#新增模块"}},[e._v("新增模块")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-新增模块"}},[e._v("1. 新增模块")])]),a("li",[a("a",{attrs:{href:"#_2-修改父级pom-xml"}},[e._v("2. 修改父级pom.xml")])]),a("li",[a("a",{attrs:{href:"#_3-使用新建模块"}},[e._v("3. 使用新建模块")])])])]),a("li",[a("a",{attrs:{href:"#代码生成"}},[e._v("代码生成")]),a("ul",[a("li",[a("a",{attrs:{href:"#实操"}},[e._v("实操")])]),a("li",[a("a",{attrs:{href:"#oralce版"}},[e._v("oralce版")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-单表"}},[e._v("1. 单表")])])])])])]),a("li",[a("a",{attrs:{href:"#上传下载"}},[e._v("上传下载")]),a("ul",[a("li",[a("a",{attrs:{href:"#上传"}},[e._v("上传")])]),a("li",[a("a",{attrs:{href:"#下载"}},[e._v("下载")]),a("ul",[a("li",[a("a",{attrs:{href:"#无法下载问题"}},[e._v("无法下载问题")])])])])])]),a("li",[a("a",{attrs:{href:"#本地文件访问"}},[e._v("本地文件访问")]),a("ul",[a("li",[a("a",{attrs:{href:"#前端"}},[e._v("前端")])]),a("li",[a("a",{attrs:{href:"#后端"}},[e._v("后端")])])])]),a("li",[a("a",{attrs:{href:"#重构"}},[e._v("重构")]),a("ul",[a("li",[a("a",{attrs:{href:"#ruoyi-vue-oracle"}},[e._v("RuoYi-Vue-Oracle")])]),a("li",[a("a",{attrs:{href:"#重构"}},[e._v("重构")]),a("ul",[a("li",[a("a",{attrs:{href:"#前端"}},[e._v("前端")])]),a("li",[a("a",{attrs:{href:"#后端"}},[e._v("后端")]),a("ul",[a("li",[a("a",{attrs:{href:"#数据库"}},[e._v("数据库")])])])])])])])]),a("li",[a("a",{attrs:{href:"#部署"}},[e._v("部署")]),a("ul",[a("li",[a("a",{attrs:{href:"#前端"}},[e._v("前端")])])])])])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://gitee.com/y_project/RuoYi-Vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("RuoYi-Vue源码"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://gitee.com/tosin/RuoYi-Vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Forked"),a("OutboundLink")],1)])])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN",target:"_blank",rel:"noopener noreferrer"}},[e._v("Element官网"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/upload",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件 | Element Upload 上传"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/link",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件 | Element Link 文字链接"),a("OutboundLink")],1)])])]),e._v(" "),a("li",[a("p",[e._v("https://cli.vuejs.org/config/#devserver-proxy")])])]),e._v(" "),a("h2",{attrs:{id:"新增模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增模块"}},[e._v("#")]),e._v(" 新增模块")]),e._v(" "),a("h3",{attrs:{id:"_1-新增模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-新增模块"}},[e._v("#")]),e._v(" 1. 新增模块")]),e._v(" "),a("ol",[a("li",[e._v("创建文件夹 "),a("code",[e._v("\\ruoyi-english")])]),e._v(" "),a("li",[e._v("创建pom.xml "),a("code",[e._v("\\ruoyi-english\\pom.xml")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <parent>\n        <artifactId>ruoyi</artifactId>\n        <groupId>com.ruoyi</groupId>\n        <version>3.8.1</version>\n    </parent>\n    <modelVersion>4.0.0</modelVersion>\n\n    <artifactId>ruoyi-english</artifactId>\n\n    <description>\n        english模块\n    </description>\n\n    <dependencies>\n\n        \x3c!-- 通用工具--\x3e\n        <dependency>\n            <groupId>com.ruoyi</groupId>\n            <artifactId>ruoyi-common</artifactId>\n        </dependency>\n\n    </dependencies>\n\n</project>\n')])])]),a("h3",{attrs:{id:"_2-修改父级pom-xml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改父级pom-xml"}},[e._v("#")]),e._v(" 2. 修改父级pom.xml")]),e._v(" "),a("ol",[a("li",[e._v("修改父级pom.xml "),a("code",[e._v("\\pom.xml")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    \x3c!-- 依赖声明 --\x3e\n    <dependencyManagement>\n        <dependencies>\n            ...\n            <dependency>\n                <groupId>com.ruoyi</groupId>\n                <artifactId>ruoyi-english</artifactId>\n                <version>${ruoyi.version}</version>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n\n    <modules>\n        ...\n        <module>ruoyi-english</module>\n    </modules>\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Maven窗口 Reload All Maven Projects，识别模块")])]),e._v(" "),a("h3",{attrs:{id:"_3-使用新建模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用新建模块"}},[e._v("#")]),e._v(" 3. 使用新建模块")]),e._v(" "),a("ol",[a("li",[e._v("src目录中 添加main中相关代码")]),e._v(" "),a("li",[e._v("Maven窗口 Reload All Maven Projects，识别代码")]),e._v(" "),a("li",[e._v("启动项目pom.xml中配置")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    <dependencies>\n\n        ...\n        \n        \x3c!-- english模块--\x3e\n        <dependency>\n            <groupId>com.ruoyi</groupId>\n            <artifactId>ruoyi-english</artifactId>\n        </dependency>\n    </dependencies>\n")])])]),a("h2",{attrs:{id:"代码生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码生成"}},[e._v("#")]),e._v(" 代码生成")]),e._v(" "),a("ol",[a("li",[e._v("generator.yml")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 代码生成\ngen:\n  # 作者\n  author: dyetc\n  # 默认生成包路径 system 需改成自己的模块名称 如 system monitor tool\n  packageName: com.dyetc.test\n  # 自动去除表前缀，默认是false\n  autoRemovePre: false\n  # 表前缀（生成类名不会包含表前缀，多个用逗号分隔）\n  tablePrefix: tst_\n")])])]),a("h3",{attrs:{id:"实操"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实操"}},[e._v("#")]),e._v(" 实操")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("E:\\iEnviroment\\英语学习\\开发\\ruoyi>tree /F\n卷 新加卷 的文件夹 PATH 列表\n卷序列号为 3448-8611\nE:.\n│  dic_word_bizMenu.sql\n│\n├─main\n│  ├─java\n│  │  └─com\n│  │      └─ruoyi\n│  │          └─english\n│  │              ├─controller\n│  │              │      DictWordInfoController.java\n│  │              │\n│  │              ├─domain\n│  │              │      DictWordInfo.java\n│  │              │\n│  │              ├─mapper\n│  │              │      DictWordInfoMapper.java\n│  │              │\n│  │              └─service\n│  │                  │  IDictWordInfoService.java\n│  │                  │\n│  │                  └─impl\n│  │                          DictWordInfoServiceImpl.java\n│  │\n│  └─resources\n│      └─mapper\n│          └─english_mod\n│                  DictWordInfoMapper.xml\n│\n└─vue\n    ├─api\n    │  └─english_mod\n    │          dic_word_biz.js\n    │\n    └─views\n        └─english_mod\n            └─dic_word_biz\n                    index.vue\n")])])]),a("ol",[a("li",[a("p",[e._v("执行 dic_word_bizMenu.sql")])]),e._v(" "),a("li",[a("p",[e._v("覆盖文件夹")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RuoYi-Vue\\ruoyi-admin\\src\\main\nmain\n\nRuoYi-Vue\\ruoyi-ui\\src\n\nvue\\\n")])])]),a("h3",{attrs:{id:"oralce版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oralce版"}},[e._v("#")]),e._v(" oralce版")]),e._v(" "),a("h4",{attrs:{id:"_1-单表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-单表"}},[e._v("#")]),e._v(" 1. 单表")]),e._v(" "),a("ol",[a("li",[e._v("新增功能数据库脚本")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("drop table tst_person;\ncreate table tst_person (\n  person_id number(11) primary key, \n  person_name varchar2(30) default '', \n  person_age number(3) default null, \n  person_hobby varchar2(30) default '', \n  person_sex char(1) default '0', \n  person_status char(1) default '0', \n  person_birthday date,\n  person_image varchar2(1024),\n  person_file varchar2(1024)\n); \n\ncomment on table tst_person is '人员信息表';\ncomment on column tst_person.person_id is '编号';\ncomment on column tst_person.person_name is '名称'; \ncomment on column tst_person.person_age is '年龄'; \ncomment on column tst_person.person_hobby is '爱好（0代码 1音乐 2电影）'; \ncomment on column tst_person.person_sex is '性别（0男 1女 2未知）'; \ncomment on column tst_person.person_status is '状态（0正常 1停用）'; \ncomment on column tst_person.person_birthday is '生日';\ncomment on column tst_person.person_image is '图片';\ncomment on column tst_person.person_file is '文件';\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("导入、编辑提交")]),e._v(" "),a("li",[e._v("下载源码\n"),a("ol",[a("li",[e._v("执行 *.sql")]),e._v(" "),a("li",[e._v("vue文件加下的文件夹复制到dyetc-ui\\src中")]),e._v(" "),a("li",[e._v("main文件下覆盖目标模块下的main文件夹")])])])]),e._v(" "),a("h2",{attrs:{id:"上传下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传下载"}},[e._v("#")]),e._v(" 上传下载")]),e._v(" "),a("ul",[a("li",[e._v("参考\n"),a("ul",[a("li",[a("a",{attrs:{href:"http://doc.ruoyi.vip/ruoyi-cloud/document/htsc.html#%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"}},[e._v("上传下载"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("88-89")])])])]),e._v(" "),a("ol",[a("li",[e._v("建库脚本")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("drop table if exists sys_file_info;\ncreate table sys_file_info (\n  file_id           int(11)          not null auto_increment       comment '文件id',\n  file_name         varchar(50)      default ''                    comment '文件名称',\n  file_path         varchar(255)     default ''                    comment '文件路径',\n  primary key (file_id)\n) engine=innodb auto_increment=1 default charset=utf8 comment = '文件信息表';\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("代码生成")])]),e._v(" "),a("h3",{attrs:{id:"上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传"}},[e._v("#")]),e._v(" 上传")]),e._v(" "),a("ul",[a("li",[e._v("参考\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/upload",target:"_blank",rel:"noopener noreferrer"}},[e._v("组件 | Element Upload 上传"),a("OutboundLink")],1)])])])]),e._v(" "),a("ol",[a("li",[e._v("替换上传控件")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('          <el-upload\n            ref="upload"\n            :limit="1"\n            accept=".jpg, .png"\n            :action="upload.url"\n            :headers="upload.headers"\n            :file-list="upload.fileList"\n            :on-progress="handleFileUploadProgress"\n            :on-success="handleFileSuccess"\n            :auto-upload="false">\n            <el-button slot="trigger" size="small" type="primary">选取文件</el-button>\n            <el-button style="margin-left: 10px;" size="small" type="success" :loading="upload.isUploading" @click="submitUpload">上传到服务器</el-button>\n            <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>\n          </el-upload>\n')])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("引入getToken方法")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('import { getToken } from "@/utils/auth";\n')])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("data中添加用于上传的数据")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('      // 上传参数\n      upload: {\n        // 是否禁用上传\n        isUploading: false,\n        // 设置上传的请求头部\n        headers: { Authorization: "Bearer " + getToken() },\n        // 上传的地址\n        url: process.env.VUE_APP_BASE_API + "/common/upload",\n        // 上传的文件列表\n        fileList: []\n      },\n')])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("处理fileList参数")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    handleAdd() {\n\n      this.upload.fileList = [];\n    },\n\n    handleUpdate(row) {\n\n        this.upload.fileList = [{ name: this.form.fileName, url: this.form.filePath }];\n      });\n    },\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("添加上传事件")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    // 文件提交处理\n    submitUpload() {\n      this.$refs.upload.submit();\n    },\n    // 文件上传中处理\n    handleFileUploadProgress(event, file, fileList) {\n      this.upload.isUploading = true;\n    },\n    // 文件上传成功处理\n    handleFileSuccess(response, file, fileList) {\n      this.upload.isUploading = false;\n      this.form.filePath = response.url;\n      this.$modal.msgSuccess(response.msg);\n      // this.msgSuccess(response.msg);\n    },\n")])])]),a("h3",{attrs:{id:"下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[e._v("#")]),e._v(" 下载")]),e._v(" "),a("ol",[a("li",[e._v("添加下载按钮")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('          <el-button\n            size="mini"\n            type="text"\n            icon="el-icon-edit"\n            @click="handleDownload(scope.row)"\n          >下载</el-button>\n')])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("实现下载事件")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("    // 文件下载处理\n    handleDownload(row) {\n      var name = row.fileName;\n      var url = row.filePath;\n      var suffix = url.substring(url.lastIndexOf(\".\"), url.length);\n      const a = document.createElement('a')\n      a.setAttribute('download', name + suffix)\n      a.setAttribute('target', '_blank')\n      a.setAttribute('href', url)\n      a.click()\n    }\n")])])]),a("h4",{attrs:{id:"无法下载问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无法下载问题"}},[e._v("#")]),e._v(" 无法下载问题")]),e._v(" "),a("blockquote",[a("p",[e._v("a标签跨域会导致download属性无效")])]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/zgjsxzlx/article/details/86543022",target:"_blank",rel:"noopener noreferrer"}},[e._v("a标签download属性不起作用"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/xi_nuo/article/details/104795963",target:"_blank",rel:"noopener noreferrer"}},[e._v("<a>标签下载文件重命名失败，download 无效"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"本地文件访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地文件访问"}},[e._v("#")]),e._v(" 本地文件访问")]),e._v(" "),a("ul",[a("li",[e._v("参考\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/Mr_Wonka/article/details/118631772",target:"_blank",rel:"noopener noreferrer"}},[e._v("【开发实践】ruoyi如何实现图片的服务器上传和地址回显"),a("OutboundLink")],1)])])])]),e._v(" "),a("h3",{attrs:{id:"前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[e._v("#")]),e._v(" 前端")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RuoYi-Vue\\ruoyi-ui\\vue.config.js\n// 使用代理来解决跨域问题 http://localhost/dev-api -> http://localhost:8080\n    proxy: {\n      // detail: https://cli.vuejs.org/config/#devserver-proxy\n      [process.env.VUE_APP_BASE_API]: {\n        target: `http://localhost:8080`,\n        changeOrigin: true,\n        pathRewrite: {\n          ['^' + process.env.VUE_APP_BASE_API]: ''\n        }\n      }\n    },\n\n-- 前端请求 /dev-api\nhttp://localhost/dev-api/profile/upload/2022/02/22/3f08f7aa-4014-484d-b89d-673a418d2399.pdf\n-- 处理后，将请求交给后端处理\nhttp://localhost:8080/profile/upload/2022/02/22/3f08f7aa-4014-484d-b89d-673a418d2399.pdf\n")])])]),a("h3",{attrs:{id:"后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[e._v("#")]),e._v(" 后端")]),e._v(" "),a("ul",[a("li",[e._v("后端对匹配的URL进行拦截 /profile/** ，映射至本地文件夹 RuoYiConfig.getProfile()。")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('@Configuration\npublic class ResourcesConfig implements WebMvcConfigurer\n{\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry)\n    {\n        /** 本地文件上传路径 */\n        registry.addResourceHandler(Constants.RESOURCE_PREFIX + "/**")\n                .addResourceLocations("file:" + RuoYiConfig.getProfile() + "/");\n\n\npublic class Constants\n    /**\n     * 资源映射路径 前缀\n     */\n    public static final String RESOURCE_PREFIX = "/profile";\n\napplication.yml\n# 项目相关配置\nruoyi:\n  # 文件路径 示例（ Windows配置D:/ruoyi/uploadPath，Linux配置 /home/ruoyi/uploadPath）\n  profile: D:/ruoyi/uploadPath\n\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n                .antMatchers(\n                        HttpMethod.GET,\n                        "/profile/**"\n                ).permitAll()\n')])])]),a("h2",{attrs:{id:"重构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重构"}},[e._v("#")]),e._v(" 重构")]),e._v(" "),a("ul",[a("li",[e._v("数据库")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[root@SystemFramework ~]# mysql -uroot -h127.0.0.1 -p123456\nmysql> CREATE DATABASE IF NOT EXISTS RuoYi_Vue DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;       \nQuery OK, 1 row affected (0.00 sec)\nmysql> use RuoYi_Vue;\nDatabase changed\nmysql> source /root/RuoYi-Vue/ry_20210908.sql;\nmysql> source /root/RuoYi-Vue/quartz.sql;\n")])])]),a("ul",[a("li",[e._v("缓存")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("D:\\tools\\portable\\Redis-x64-3.0.504>redis-server.exe redis.windows.conf\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("E:\\iEnviroment\\development\\projects\\ideaProjects\\Demo\\system-framework\\RuoYi-Vue-master\\ruoyi-ui>npm install\nE:\\iEnviroment\\development\\projects\\ideaProjects\\Demo\\system-framework\\RuoYi-Vue-master\\ruoyi-ui>npm run dev\n")])])]),a("ul",[a("li",[e._v("http://localhost/login")])]),e._v(" "),a("h3",{attrs:{id:"ruoyi-vue-oracle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ruoyi-vue-oracle"}},[e._v("#")]),e._v(" RuoYi-Vue-Oracle")]),e._v(" "),a("ul",[a("li",[e._v("https://github.com/yangzongzhuan/RuoYi-Vue-Oracle")])]),e._v(" "),a("h3",{attrs:{id:"重构-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重构-2"}},[e._v("#")]),e._v(" 重构")]),e._v(" "),a("ul",[a("li",[e._v("https://blog.csdn.net/qq_36557065/article/details/115488387\nhttps://doc.ruoyi.vip/ruoyi/other/faq.html#%E5%A6%82%E4%BD%95%E4%B8%8D%E7%99%BB%E5%BD%95%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE")])]),e._v(" "),a("blockquote",[a("p",[e._v("RuoYi -> SqdyEtc\nruoyi -> sqdyetc\nRuoyi -> Sqdyetc\n若依->陕汽德银ETC\n3.8.1->1.0.0")])]),e._v(" "),a("h4",{attrs:{id:"前端-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端-2"}},[e._v("#")]),e._v(" 前端")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("RuoYi->SqdyEtc")]),e._v(" "),a("ol",[a("li",[e._v("修改文件夹 sqdyetc-ui\\src\\components\\RuoYi")]),e._v(" "),a("li",[e._v("查找替换")])])]),e._v(" "),a("li",[a("p",[e._v("ruoyi->sqdyetc")]),e._v(" "),a("ol",[a("li",[e._v("重构文件\n"),a("ol",[a("li",[e._v("src\\utils\\ruoyi.js")]),e._v(" "),a("li",[e._v("src\\assets\\styles\\ruoyi.scss")])])]),e._v(" "),a("li",[e._v("查找替换")])])]),e._v(" "),a("li",[a("p",[e._v("最终检索不到区分大小写 ruoyi")])]),e._v(" "),a("li",[a("p",[e._v("若依->陕汽德银ETC 查找替换")])])]),e._v(" "),a("h4",{attrs:{id:"后端-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端-2"}},[e._v("#")]),e._v(" 后端")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("RuoYi-Vue-master.zip 解压 修改文件件为 SqdyEtc")])]),e._v(" "),a("li",[a("p",[e._v("修改项目名称、模块文件夹名")]),e._v(" "),a("ul",[a("li",[e._v("File->Project Structure->Project Project Name SqdyEtc")])])]),e._v(" "),a("li",[a("p",[e._v("修改模块名称")]),e._v(" "),a("ul",[a("li",[e._v("File->Project Structure->Modules\n"),a("ul",[a("li",[e._v("sqdyetc   Apply")]),e._v(" "),a("li",[e._v("sqdyetc-admin")]),e._v(" "),a("li",[e._v("sqdyetc-common")]),e._v(" "),a("li",[e._v("sqdyetc-framework")]),e._v(" "),a("li",[e._v("sqdyetc-generator")]),e._v(" "),a("li",[e._v("sqdyetc-quartz")]),e._v(" "),a("li",[e._v("sqdyetc-system")])])])])]),e._v(" "),a("li",[a("p",[e._v("修改模块文件夹名")])]),e._v(" "),a("li",[a("p",[e._v("修改pom文件")]),e._v(" "),a("ol",[a("li",[e._v("pom.xml ruoyi->sqdyetc")]),e._v(" "),a("li",[e._v("sqdyetc-admin\\pom.xml")]),e._v(" "),a("li",[e._v("sqdyetc-common\\pom.xml")]),e._v(" "),a("li",[e._v("sqdyetc-framework\\pom.xml")]),e._v(" "),a("li",[e._v("sqdyetc-generator\\pom.xml")]),e._v(" "),a("li",[e._v("sqdyetc-quartz\\pom.xml")]),e._v(" "),a("li",[e._v("sqdyetc-system\\pom.xml")])])]),e._v(" "),a("li",[a("p",[e._v("检测")]),e._v(" "),a("ol",[a("li",[e._v("修改数据库配置 sqdyetc-admin\\src\\main\\resources\\application-druid.yml")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("            master:\n                url: jdbc:mysql://localhost:3306/RuoYi_Vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8\n                username: root\n                password: 123456\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("前端")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("SqdyEtc>cd sqdyetc-ui\nSqdyEtc\\sqdyetc-ui>npm install\nSqdyEtc\\sqdyetc-ui>npm run dev\n")])])])]),e._v(" "),a("li",[a("p",[e._v("更换项目所有包名称com.ruoyi.xxx换成com.dyetc.xxx")]),e._v(" "),a("ul",[a("li",[e._v("com.ruoyi -> Refactor -> Rename\n-> In Whole Project\n-> 勾选 Search in comments and strings; Search for text occurences\n-> Preview -> Do Refactor")])])]),e._v(" "),a("li",[a("p",[e._v("启动检测")]),e._v(" "),a("ol",[a("li",[e._v("sqdyetc-admin\\src\\main\\resources\\application.yml\n"),a("ol",[a("li",[e._v("ruoyi->sqdyetc")]),e._v(" "),a("li",[e._v("RuoYi -> SqdyEtc")])])])])]),e._v(" "),a("li",[a("p",[e._v("替换")]),e._v(" "),a("ol",[a("li",[e._v("RuoYi -> SqdyEtc\n"),a("ul",[a("li",[e._v("RuoYiConfig -> SqdyEtcConfig")]),e._v(" "),a("li",[e._v("RuoYiApplication -> SqdyEtcApplication")]),e._v(" "),a("li",[e._v("RuoYiServletInitializer -> SqdyEtcServletInitializer")])])]),e._v(" "),a("li",[e._v("Ruoyi -> Sqdyetc\n"),a("ul",[a("li",[e._v("RuoyiScheduler")])])]),e._v(" "),a("li",[e._v("替换其他字符串，最终检索不到区分大小写 ruoyi")])])]),e._v(" "),a("li",[a("p",[e._v("若依->陕汽德银ETC 查找替换")])])]),e._v(" "),a("h5",{attrs:{id:"数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[e._v("#")]),e._v(" 数据库")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("CREATE DATABASE IF NOT EXISTS `sqdy-etc` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;\n")])])]),a("h2",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[e._v("#")]),e._v(" 部署")]),e._v(" "),a("h3",{attrs:{id:"前端-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端-3"}},[e._v("#")]),e._v(" 前端")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\t\tcharset utf-8;\n\n\t\tlocation / {\n            root   D://tools/portable/nginx-1.21.3/app/ruoyi-ui;\n\t\t\ttry_files $uri $uri/ /index.html;\n            index  index.html index.htm;\n        }\n\t\t\n\t\tlocation /dev-api/ {\n\t\t\tproxy_set_header Host $http_host;\n\t\t\tproxy_set_header X-Real-IP $remote_addr;\n\t\t\tproxy_set_header REMOTE-HOST $remote_addr;\n\t\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\t\tproxy_pass http://localhost:8080/;\n\t\t}\t\n\t\tlocation /stage-api/ {\n\t\t\tproxy_set_header Host $http_host;\n\t\t\tproxy_set_header X-Real-IP $remote_addr;\n\t\t\tproxy_set_header REMOTE-HOST $remote_addr;\n\t\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\t\tproxy_pass http://localhost:8080/;\n\t\t}\n\t\tlocation /prod-api/ {\n\t\t\tproxy_set_header Host $http_host;\n\t\t\tproxy_set_header X-Real-IP $remote_addr;\n\t\t\tproxy_set_header REMOTE-HOST $remote_addr;\n\t\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\t\tproxy_pass http://localhost:8080/;\n\t\t}\t\n\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n    }\n}\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);